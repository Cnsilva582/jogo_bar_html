<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../style/style.css">
  <title>Contato</title>
</head>
<body>
  <header>
    <img src="./img/logot.png" alt="">
    <nav>
      <a href="index.html">Home</a>
      <a href="menu_foods.html">Cardápio</a>
      <a href="menu_games.html">Jogos</a>
      <a href="jogos.html">Meus Jogos</a>
      <a href="contato.html">Contato</a>
    </nav>
  </header>

  <h1>📩 Contato</h1>
  <!-- Formulário -->
  <form onsubmit="enviarMensagem(event)">
    <label for="mensagem">Digite sua mensagem:</label><br>
    <textarea id="mensagem" required></textarea><br>
    <button type="submit">Enviar</button>
  </form>
  <h2>📜 Mensagens</h2>
  <ul id="lista-mensagens"></ul>
  <button onclick="limparMensagens()">🗑️ Apagar todas</button>

  <script>
    // Envia e salva mensagem no localStorage
    function enviarMensagem(event) {
      event.preventDefault();
      let mensagem = document.getElementById("mensagem").value.trim();
      if (mensagem === "") return;

      let mensagens = JSON.parse(localStorage.getItem("mensagens")) || [];
      mensagens.push(mensagem);
      localStorage.setItem("mensagens", JSON.stringify(mensagens));

      document.getElementById("mensagem").value = "";
      carregarMensagens();
    }

    // Carrega mensagens na lista
    function carregarMensagens() {
      let mensagens = JSON.parse(localStorage.getItem("mensagens")) || [];
      let lista = document.getElementById("lista-mensagens");
      lista.innerHTML = "";

      if (mensagens.length === 0) {
        lista.innerHTML = "<li>Nenhuma mensagem ainda.</li>";
        return;
      }

      mensagens.forEach((m, i) => {
        let li = document.createElement("li");
        li.textContent = m + " ";

        // Botão para excluir individualmente
        let btn = document.createElement("button");
        btn.textContent = "Excluir";
        btn.onclick = () => apagarMensagem(i);

        li.appendChild(btn);
        lista.appendChild(li);
      });
    }

    // Apaga mensagem específica
    function apagarMensagem(index) {
      let mensagens = JSON.parse(localStorage.getItem("mensagens")) || [];
      mensagens.splice(index, 1);
      localStorage.setItem("mensagens", JSON.stringify(mensagens));
      carregarMensagens();
    }

    // Apaga todas as mensagens
    function limparMensagens() {
      localStorage.removeItem("mensagens");
      carregarMensagens();
    }

    // Carrega ao abrir a página
    carregarMensagens();
  </script>

  <footer>
    <p>© 2025/2 Tabuleiro & Cerveja</p>
    
  </footer>
</body>
</html>
